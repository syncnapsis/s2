<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="stylesheet" type="text/css" href="styles/default.css" />
<link rel="stylesheet" type="text/css" href="styles/base.css" />
<link rel="stylesheet" type="text/css" href="styles/components.css" />
<link rel="stylesheet" type="text/css" href="styles/select.css" />
<script type="text/javascript" src="scripts/util/Events.js"></script>
<script type="text/javascript" src="scripts/select.js"></script>
<!--
<script type="text/javascript" src="scripts/lib/json2.js"></script>
<script type="text/javascript" src="scripts/util/Requests.js"></script>
<script type="text/javascript" src="scripts/util/Reflections.js"></script>
<script type="text/javascript" src="scripts/util/Arrays.js"></script>
<script type="text/javascript" src="scripts/util/Strings.js"></script>
<script type="text/javascript" src="scripts/styles.js"></script>
<script type="text/javascript" src="scripts/ui.js"></script>
<script type="text/javascript">
	var d;
	var w;
	test = function()
	{
		d = document.createElement("div");
		d.innerHTML = "Bla bla:<br><ul><li>abc</li><li>abc</li></ul>";
		
		w = new Styles.Window(1, "menu.login", d);
		
		w.setPosition(100, 100);
		w.setSize(300,200);
		w.setVisible(true);
	}
</script>
-->
<script type="text/javascript">
	var open = false;
	toggleSelects = function() {
		var elems = document.getElementsByClassName("select");
		for(var i = 0; i < elems.length; i++)
		{
			if(open)	
				elems[i].classList.add("open");
			else	
				elems[i].classList.remove("open");
		}
		open = !open;
	};

	var selects = new Array();
	init = function()
	{
		var elems = document.getElementsByClassName("select");
		for(var i = 0; i < elems.length; i++)
		{
			selects[i] = new Select(elems[i])
			for(var x = 0; x < (i+1)*3; x++)
			{
				selects[i].options[x] = {
					value: x,
					title: "Option " + x
				};
			}
			selects[i].update();
		}
	};
</script>
<style type="text/css">
	.w200 * {
		width: 200px;
	}
	.w100 * {
		width: 100px;
	}
	.w50 * {
		width: 50px;
	}
</style>
</head>
<body onload="init();">
<div id="testdiv">aaa</div>
<a href="javascript: test();">test</a>
	<!--  -->

	
<div style="position: absolute; left: 600px; top: 200px; width: 300px; height: 200px">
	<input type="button" onclick="javascript: toggleSelects();" value="toggle selects">
</div>

	
<div style="position: absolute; left: 200px; top: 200px; width: 400px; height: 200px">
	<input type="text" value="textfield"/><br>
	<input type="password" value="password"/><br>
	<br>
	<select class="w200">
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
	</select>&nbsp;
	<select class="w100">
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
	</select>&nbsp;
	<select class="w50">
		<option>option 1</option>
		<option>option 2</option>
		<option>option 3</option>
	</select><br>
	<br>
	<div class="select w200" id="s200">
	</div>&nbsp;
	<div class="select w100" id="s100">
	</div>&nbsp;
	<div class="select w50" id="s50">
	</div><br>
</div>

<div style="position: absolute; left: 1000px; top: 200px; width: 300px; height: 200px">
	<form onsubmit="javascript: return submitTest();">
		<input id="tf_user" type="text" /><br>
		<input id="tf_pw" type="password" /><br>
		<textarea id="ta"></textarea>
	    <input type="submit" value="submit" style="display: none;"/>
	</form>
	<script type="text/javascript">
	submitTest = function()
	{
		console.log(document.getElementById("tf_user") + ":" + document.getElementById("tf_pw"));
		console.log(document.getElementById("ta").value);
		return false;
	}
	
	var down = false;
	
	document.getElementById("ta").onkeypress = function(event) {
		if(event.keyCode == Events.KEY_ENTER)
		{
			if(Events.hasModifiers(event, Events.KEY_CTRL))
			{
				this.value = this.value + "\n";
				this.scrollTop = 9999999; // scroll down
			}
			else if(down == false)
			{
				document.forms[0].onsubmit();
			}
			down = true;
			return false;
		}
		//console.log("p");
		return true;
	};
	document.getElementById("ta").onkeyup = function(event) {
		down = false;
	};
	</script>
</div>

</body>
</html>