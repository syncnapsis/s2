<html>
<head>
	<style>
		body
		{
			background-color: #000000;
			margin: 0px;
			overflow: hidden;
		}
		#the_element
		{
			width: 100%;
			height: 100%;
		    border: none;
		    position: relative;
		}
		#adder
		{
		    position: absolute;
		    float: left;
		    z-index: 1;
		    top: 0px;
		    left: 0px;
		    width: 10em;
		    height: 2em;
		    border: none;
		    background-color: #202021;
		    color: #ccc;
		}
		#adder:hover
		{
		    background-color:blue;
		}
	</style>
    <script type="text/javascript" 
            src="http://www.x3dom.org/x3dom/release/x3dom.js">
    </script>
	<script type="text/javascript" src="scripts/util/Requests.js"></script>
	<!-- script type="text/javascript" src="scripts/lib/x3dom-v1.1.js"></script> -->

	<script type="text/javascript">
		 	var testlogger;
		 	DependencyManager.register("Arrays", 						"util/Arrays.js");
		 	DependencyManager.register("Events", 						"util/Events.js");
		 	DependencyManager.register("Logging", 						"util/Logging.js");
		 	DependencyManager.register("Requests", 						"util/Requests.js");
		 	DependencyManager.register("DateFormat", 					"lib/date.format.js");
		 	DependencyManager.register("Raphael", 						"lib/raphael-min.js");
		 	DependencyManager.register("Stats", 						"lib/Stats.js");
		 	//DependencyManager.register("x3dom", 						"lib/x3dom-v1.1.js");
		 	DependencyManager.register("RequestAnimationFrame", 		"lib/RequestAnimationFrame.js");
		 	//DependencyManager.register("Sectors", 						"sectors-small.js", true);
		 	//DependencyManager.afterLoading();
		 	
		 	var offset = 4;
		 	function add()
		 	{
		 		scene = document.getElementsByTagName("scene")[0];
		 		newObject = "<transform translation=\"" + offset + " 0 0\">\n" + 
							"<shape>\n" + 
							"<appearance>\n" + 
							"<material diffuseColor='" + (offset > 0 ? offset % 4 == 0 ? "red" : "blue" : offset % 4 != 0 ? "red" : "blue") + "'></material>  \n" + 
							"</appearance>\n" + 
							(offset > 0 ? "<sphere></sphere>\n" : "<box></box>\n") + 
							"</shape>\n" + 
							"</transform>\n";
		 		scene.innerHTML = scene.innerHTML + newObject;
		 		if(offset > 0)
		 			offset = -offset;
		 		else
		 			offset = -offset +2;
		 	}
	</script>
</head>
<body onload="DependencyManager.registrationDone();">
	<x3d width="100%" height="100%">
		<button id="adder" onclick="add();return false;" style="position: absolute; top: 0px; left: 0px; width: 100px; height: 20px">add</button>
		<scene>
			<transform translation="-2 0 0">
				<shape>
					<appearance>
						<material diffuseColor='red'></material>  
					</appearance>
					<box></box>
				</shape>
			</transform>
			<transform translation="2 0 0">
				<shape>
					<appearance>
						<material diffuseColor='blue'></material>  
					</appearance>
					<sphere></sphere>
				</shape>
			</transform>
		</scene>
	</x3d>
</body>
</html>